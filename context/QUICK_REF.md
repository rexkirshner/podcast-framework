# Quick Reference

**Auto-generated by `/save-context`** - Do not edit manually

---

## Project: Podcast Website Framework

**Current:** Phase 2a - Code Review Fixes | **Session:** 15 | **Progress:** ~75%

## Tech Stack

- **Framework:** Astro 5.1.4 (SSG, TypeScript strict mode)
- **CMS:** Sanity.io (project ID: ej6443ov, dataset: production)
- **Hosting:** Netlify (auto-deploy on git push)
- **Styling:** Tailwind CSS v4 + CMS-driven theming
- **Language:** TypeScript (strict mode)
- **Email:** Resend (contribution@noreply.strangewater.xyz verified)
- **Analytics:** Google Analytics 4

## URLs

- **Production:** https://strangewater.xyz (not yet deployed)
- **Staging:** https://staging.strangewater.xyz
- **Local (Astro):** http://localhost:4321/
- **Local (Sanity):** http://localhost:3333/
- **Repository:** https://github.com/rexkirshner/podcast-framework

## Current Focus

**Phase:** Phase 2a - Feature Development & Code Quality

**Active Tasks:**
- ✅ Fixed 14 of 21 code review issues (Session 15)
- ⏳ 7 code review issues remaining (optional)
- ⏳ Awaiting user decision on next priorities

**Next Priority:** User decides between:
1. Finish remaining code review items (~10-15 hours)
2. Move to Tier 1 features (transcripts, search, platform links)

## Quick Commands

```bash
# Development
npm run dev                    # Start Astro dev server (localhost:4321)
npm run sanity                 # Start Sanity Studio (localhost:3333)
npm run build                  # Build for production

# Content Management
npm run import:rss             # Import episodes from RSS feed
npm run import:guests          # Scrape and import guests
npm run link:guests            # Auto-link guests to episodes
npm run upload:photos          # Upload guest photos
npm run upload:covers          # Upload episode covers
npm run init:theme             # Initialize/update default theme

# Utilities
npm run delete:episodes        # Clean slate for re-import
npm run fix:guests-keys        # Add _key to guest arrays
```

## Content Status

- **Episodes:** 69 (all metadata complete)
- **Guests:** 72 (65 photos uploaded)
- **Host:** Rex Kirshner (linked to all episodes)
- **Episode Covers:** 66/68 uploaded
- **Theme:** Light theme with Strange Water branding
- **Community Feature:** Functional (email verified)

## Code Quality

- **Grade:** A- (90/100) - improved from B+ (85%)
- **Critical Issues:** 0 (both fixed)
- **High Priority:** 2 remaining
- **Medium Priority:** 2 remaining
- **Low Priority:** 3 remaining
- **Test Coverage:** ~5%

## Recent Session (Session 15 - 2025-10-07)

**Completed:**
- ✅ Fixed 14 of 21 code review issues
- ✅ Patched XSS vulnerability (C1)
- ✅ Fixed email configuration (C2)
- ✅ Added comprehensive input validation (H2)
- ✅ Standardized environment variables (H5)
- ✅ Created constants.ts for centralized config (L1)
- ✅ Added ARIA labels and accessibility improvements (M8)
- ✅ Fixed robots.txt and added sitemap (L5)

**Status:**
- Git commit created (NOT pushed - awaiting permission)

## Context Navigation

- **Orientation:** `context/CONTEXT.md` - Developer guide, architecture, methodology
- **Current Status:** `context/STATUS.md` ← **Start here!**
- **Decision Log:** `context/DECISIONS.md` - Technical decisions and rationale
- **Session History:** `context/SESSIONS.md` - Comprehensive work log
- **Roadmap:** `context/meta/tasks/roadmap-evaluation.md` - Feature prioritization
- **Code Review:** `artifacts/code-reviews/session-14-review.md` - Quality audit

## Git Protocol

⚠️ **CRITICAL:** Never push to GitHub without explicit user permission
- Reason: Triggers Netlify builds, consumes monthly quota (300 min/month)
- Status: 50% quota already consumed
- Always ask before pushing

## For AI Agents

**Mental Model:** Code review fixes complete (14 of 21 issues). All critical security issues resolved (XSS vulnerability, email configuration). Code quality improved from B+ (85%) to A- (90%). Community feature functional with verified email domain.

**Key Context:** User is cost-conscious about Netlify build minutes (50% quota consumed). Git push permission is CRITICAL. 7 code review issues remain (optional): error handling, query optimization, tests, JSDoc.

**Next Actions:** User decides whether to finish remaining code review items OR move to Tier 1 features (transcripts, search, platform links).

---

**Last Updated:** 2025-10-07 (Session 15)
**Next Session:** User decides on remaining code review items vs. Tier 1 features
