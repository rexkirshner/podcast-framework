---
// Footer component with Sanity integration
import { getPodcastInfo } from "../lib/sanity";

const podcastInfo = await getPodcastInfo();
const currentYear = new Date().getFullYear();
const siteName = podcastInfo?.name || "Podcast";
const siteDescription = podcastInfo?.description || "";
---

<footer class="bg-gray-900 text-gray-300 mt-16">
  <div class="max-w-6xl mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
      <!-- Brand Section -->
      <div>
        <h3 class="text-white font-bold text-lg mb-3">{siteName}</h3>
        <p class="text-sm text-gray-400">
          {siteDescription}
        </p>
      </div>

      <!-- Links Section -->
      <div>
        <h4 class="text-white font-semibold mb-3">Links</h4>
        <ul class="space-y-2 text-sm">
          <li>
            <a href="/" class="hover:text-white transition">Home</a>
          </li>
          <li>
            <a href="/episodes" class="hover:text-white transition">Episodes</a>
          </li>
          <li>
            <a href="/about" class="hover:text-white transition">About</a>
          </li>
        </ul>
      </div>

      <!-- Subscribe Section -->
      <div>
        <h4 class="text-white font-semibold mb-3">Subscribe</h4>
        <ul class="space-y-2 text-sm">
          {podcastInfo?.spotifyUrl && (
            <li>
              <a
                href={podcastInfo.spotifyUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                Spotify
              </a>
            </li>
          )}
          {podcastInfo?.appleUrl && (
            <li>
              <a
                href={podcastInfo.appleUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                Apple Podcasts
              </a>
            </li>
          )}
          {podcastInfo?.youtubeUrl && (
            <li>
              <a
                href={podcastInfo.youtubeUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                YouTube
              </a>
            </li>
          )}
          {podcastInfo?.rssUrl && (
            <li>
              <a
                href={podcastInfo.rssUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                RSS Feed
              </a>
            </li>
          )}
          {podcastInfo?.twitterUrl && (
            <li>
              <a
                href={podcastInfo.twitterUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                Twitter/X
              </a>
            </li>
          )}
          {podcastInfo?.discordUrl && (
            <li>
              <a
                href={podcastInfo.discordUrl}
                class="hover:text-white transition"
                target="_blank"
                rel="noopener noreferrer"
              >
                Discord
              </a>
            </li>
          )}
        </ul>
      </div>
    </div>

    <!-- Copyright -->
    <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-500">
      <p>&copy; {currentYear} {siteName}. All rights reserved.</p>
    </div>
  </div>
</footer>
