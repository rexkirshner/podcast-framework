---
// About page - dynamically fetching from Sanity
import BaseLayout from "../layouts/BaseLayout.astro";
import { getPodcastInfo } from "../lib/sanity";

// Fetch podcast info from Sanity
const podcastInfo = await getPodcastInfo();
const siteName = podcastInfo?.name || "Podcast";
---

<BaseLayout
  title={`About - ${siteName}`}
  description={`Learn about ${siteName}, a podcast exploring Ethereum and Web3 through conversations with builders, researchers, and visionaries.`}
>
  <main class="max-w-4xl mx-auto px-4 py-12 flex-grow">
    <!-- Page Header -->
    <div class="mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">About {siteName}</h1>
    </div>

    <!-- About Content -->
    <div class="bg-white rounded-lg shadow-sm p-8 mb-8">
      <h2 class="text-2xl font-semibold mb-4">The Show</h2>
      <p class="text-lg text-gray-700 leading-relaxed mb-6">
        {siteName} brings you deep conversations with the people building the future of Ethereum and Web3.
        From protocol developers to researchers, entrepreneurs to artists, we explore the ideas, technology,
        and philosophy shaping decentralized systems.
      </p>
      <p class="text-lg text-gray-700 leading-relaxed mb-6">
        Each episode dives into the technical challenges, philosophical questions, and real-world applications
        of blockchain technology, making complex topics accessible without losing depth.
      </p>
      <p class="text-lg text-gray-700 leading-relaxed">
        Whether you're a developer, investor, researcher, or simply curious about the future of decentralized
        technology, Strange Water offers insights from the people at the forefront of this revolution.
      </p>
    </div>

    <!-- Host Section -->
    <div class="bg-white rounded-lg shadow-sm p-8 mb-8">
      <h2 class="text-2xl font-semibold mb-4">The Host</h2>
      <p class="text-lg text-gray-700 leading-relaxed mb-4">
        {siteName} is hosted by Rex Kirshner, a longtime Ethereum enthusiast and builder in the Web3 space.
      </p>
      <p class="text-lg text-gray-700 leading-relaxed">
        With a background in technology and a passion for decentralization, Rex brings thoughtful questions
        and deep curiosity to every conversation.
      </p>
    </div>

    <!-- Subscribe CTA -->
    <div class="bg-blue-50 rounded-lg p-8 text-center">
      {podcastInfo?.isActive ? (
        <>
          <h3 class="text-2xl font-semibold mb-3">Subscribe to {siteName}</h3>
          <p class="text-gray-600 mb-6">
            Get notified when new episodes are released
          </p>
        </>
      ) : (
        <>
          <h3 class="text-2xl font-semibold mb-3">Listen to {siteName}</h3>
          <p class="text-gray-600 mb-6">
            Explore the complete archive on your favorite platform
          </p>
        </>
      )}
      <div class="flex flex-wrap gap-4 justify-center">
        {podcastInfo?.spotifyUrl && (
          <a
            href={podcastInfo.spotifyUrl}
            class="px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition"
            target="_blank"
            rel="noopener noreferrer"
          >
            Spotify
          </a>
        )}
        {podcastInfo?.appleUrl && (
          <a
            href={podcastInfo.appleUrl}
            class="px-6 py-3 bg-gray-800 text-white rounded-lg font-semibold hover:bg-gray-900 transition"
            target="_blank"
            rel="noopener noreferrer"
          >
            Apple Podcasts
          </a>
        )}
        {podcastInfo?.youtubeUrl && (
          <a
            href={podcastInfo.youtubeUrl}
            class="px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition"
            target="_blank"
            rel="noopener noreferrer"
          >
            YouTube
          </a>
        )}
        {podcastInfo?.rssUrl && (
          <a
            href={podcastInfo.rssUrl}
            class="px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition"
            target="_blank"
            rel="noopener noreferrer"
          >
            RSS Feed
          </a>
        )}
      </div>
    </div>

    <!-- Contact/Feedback Section -->
    <div class="mt-8 text-center">
      <p class="text-gray-600">
        Have feedback or want to suggest a guest?
        <a href="https://x.com/StrangeH2OPod" class="text-blue-600 hover:text-blue-700 font-medium" target="_blank" rel="noopener noreferrer">
          Reach out on X/Twitter
        </a>
      </p>
    </div>
  </main>
</BaseLayout>
